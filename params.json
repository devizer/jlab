{"name":"jlab","tagline":"extentions, usage demos, tests and stress.","body":"<a name='about'><img title='About JLAB' alt='About JLAB' src='https://github.com/devizer/jlab/raw/master/jlab-small.png' border='0' width='100px' height='60px' /></a>\r\n----\r\nextentions, usage demos, tests and stress. details at my blog are labeled with [Java](http://devizer.blogspot.com/search/label/Java) tag.\r\n\r\nSources and releases\r\n----\r\nI use 2 test scopes\r\n- Unit-tests (ant without parameters).\r\n- Integration tests (ant build full-test)\r\n\r\nI am using home build server. Since `0.4.35` each release always fully tested using master snapshot before pushing release tag. Master branch version has **SNAPSHOT** suffix. Release doesnt.\r\nI put small description on each [public release](https://github.com/devizer/jlab/releases).\r\nHome build server runs on Ubuntu 13.10 x64. Rarely I run all tests, including Integration tests, on\r\n- Fedora 19 (Schrödinger’s Cat) Arm7 hard float\r\n- MAC OS X 10.9\r\n- Windows 7 x64\r\n\r\njcl extensions\r\n----\r\n- [x] Parallel.for\r\n- [x] Lazy<T>\r\n- [x] ReliableThreadLocal<T>\r\n\r\n\r\n\r\nJAXBSerializer, SimpleIntegrity\r\n----\r\nwe need to store a **long living** POJO in blobs and queues with *versioning* and integrity check:\r\n\r\n\r\n```java\r\nstatic final JAXBSerializer<MyVo1> MyVoConverter = new JAXBSerializer<MyVo1>(MyVo1.class);\r\n...\r\nbyte[] serialize(MyVo1 myVo) {\r\n  byte[] message = MyVoConverter.ToData(myVo);\r\n  return SimpleIntegrity.Store(message, SimpleIntegrity.Alg.md5);\r\n}\r\n...\r\nMyVo1 parse(byte[] message) {\r\n  return MyVoConverter.Parse(SimpleIntegrity.Parse(message).getData());\r\n}\r\n```\r\n\r\nLightSystemInfo\r\n----\r\nwe need to know **production environment** (OS, Processor, Memory, <del>Disks</del>, <del>Video adapter</del>) in human readable form.\r\nClass supports Windows, Linux (arm, x86, x64), MAC OS X without external JNI dependencies.\r\n\r\n```java\r\nSystem.out.print(new LightSystemInfo());\r\n```\r\n```\r\nFamily: Mac OS X, x86_64\r\n   CPU: Intel(R) Core(TM)2 Duo CPU P8400 @ 2.26GHz, Cache 3072 Kb, 2 cores\r\n    OS: Mac OS X, 10.9\r\n  Java: Java HotSpot(TM) 64-Bit Server VM, ver 1.7.0_45 by Oracle Corporation\r\nMemory: 2 048 MB\r\n```\r\n```\r\nFamily: Windows, amd64\r\n   CPU: Intel(R) Core(TM)2 Duo CPU P8400 @ 2.26GHz, L2 Cache 3072 KB, 2 Cores\r\n    OS: Microsoft(R) Windows(R) XP Professional x64 Edition, Service Pack 2\r\n  Java: Java HotSpot(TM) 64-Bit Server VM, ver 1.7.0_45 by Oracle Corporation\r\nMemory: 511 MB\r\n  Soft: IE 8.00.6001.18702 (longhorn_ie8_rtm(wmbla).090308-0338)\r\n        MSI 4.5.6002.22487\r\n```\r\n```\r\nFamily: Linux, arm\r\n   CPU: ARMv7 Processor rev 0 (v7l)\r\n    OS: Fedora 19 (Schrödinger’s Cat)\r\n  Java: Java HotSpot(TM) Client VM, ver 1.7.0_45 by Oracle Corporation\r\nMemory: 1,004 MB\r\n```\r\n```\r\nFamily: Linux, x86\r\n   CPU: Intel(R) Xeon(R) CPU E5-2650 0 @ 2.00GHz, Cache 20480 KB\r\n    OS: SUSE Linux Enterprise Server 11 (i586)\r\n  Java: IBM J9 VM, ver 1.7.0 by IBM Corporation\r\nMemory: 641 MB\r\n```\r\n\r\n\r\n\r\n\r\nConnectionMetadataReader\r\n----\r\nwe need to know human readable **database structure** on production in human readable form.\r\nTested against mysql, ms sql server, sqlite, derby.\r\nSupports Table columns, primary keys, foreign keys and indexes.\r\nConnectionMetadataReader however isnt sql code generator,\r\njust db structure visualizer for production environment:\r\n\r\n```java\r\nlogger.log(ConnectionMetaDataReader.Build(connection));\r\n```\r\n```sql\r\n/*\r\n  DB-Product 'MySQL' Ver '5.5.34-0ubuntu0.13.10.1'\r\n  JDBC '4.4'\r\n  Driver 'MySQL Connector Java' Ver 'mysql-connector-java-5.1.27 ( Revision: alexander.soklakov@oracle.com-20131021093118-gtm1bh1vb450xipt )'\r\n  Url: jdbc:mysql://127.0.0.1/sandbox\r\n*/\r\n\r\nCREATE TABLE SimpleQueue (\r\n  Id VARCHAR(26) Not Null,\r\n  OptionalKey VARCHAR(1024),\r\n  QueueName VARCHAR(255) Not Null,\r\n  Message LONGBLOB Not Null,\r\n  CreatedAt DATETIME Not Null,\r\n  ModifiedAt DATETIME Not Null,\r\n  AckDate DATETIME,\r\n  HandlersCount INT Not Null,\r\n  DeliveryDate DATETIME,\r\n  Locked BIT Not Null,\r\n  Constraint PK_SimpleQueue PRIMARY KEY On (Id)\r\n);\r\nCreate UNIQUE Index PRIMARY On SimpleQueue(Id);\r\nCreate Index IX_SimpleQueue_Delivery On SimpleQueue(QueueName, ModifiedAt);\r\nCreate Index IX_SimpleQueue_Key On SimpleQueue(OptionalKey);\r\n```\r\n\r\n\r\n\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}